BUILD_DIR    := .build
DIST_DIR     := dist
LOCALES_DIR  := locales
PACKAGE      := testpkg
PYTHON       := /usr/bin/python3.10
VERSION_FILE := .version
VERSION_EXP  := [0-9\.]+
NG_DIR       := ui

DIRS := $(BUILD_DIR) $(DIST_DIR)

SHELL:=/bin/bash

-include .make/misc.mk
-include .make/git.mk
-include .make/py.mk
-include .make/angular.mk

.make:
	@echo "make directory .make"
	@mkdir -p $@

.make/%.mk: | .make
	@URL=$$(echo "https://raw.githubusercontent.com/jamesbrond/jamesbrond/main/Makefile/$$(basename $@)"); \
	echo "get $$URL"; \
	curl -s -H 'Cache-Control: no-cache, no-store' $${URL} -o $@

.PHONY: build clean distclean dist lint test
.DEFAULT_GOAL := help

$(DIRS)::
	@$(call log-debug,MAKE,make '$@' folder)
	@mkdir -p $@

build:: ## Compile the entire program
	@$(call log-info,MAKE,$@ done)

clean:: ## Delete all files created by this makefile, however donâ€™t delete the files that record configuration or environment
	@$(call log-info,MAKE,$@ done)

distclean:: clean ## Delete all files in the current directory (or created by this makefile) that are created by configuring or building the program
	@-rm -rf $(BUILD_DIR)
	@-rm -rf $(DIST_DIR)
# @-rm -rf .make
	@$(call log-info,MAKE,$@ done)

dist:: build ## Create a distribution file or files for this program
	@$(call log-info,MAKE,$@ done)

lint:: ## Perform static linting
	@$(call log-info,MAKE,$@ done)

test:: build ## Unit test
	@$(call log-info,MAKE,$@ done)

# ~@:-]
